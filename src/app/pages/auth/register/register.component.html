<div fxLayoutAlign="space-around center" style="margin-top: 100px;">
  <div fxLayout="row wrap">
    <mat-card>
      <mat-card-content>
        <div fxLayout="row wrap">
          <div class="header"> Register </div>
          <form [formGroup]="registerForm" name="registerForm">
            <div fxLayout="row wrap" fxLayoutGap="20px">
              <div fxFlex.xs="100%">
                <mat-form-field >
                  <mat-label>First Name</mat-label>
                  <input formControlName="firstname" matInput required />
                  <mat-error *ngIf="registerForm.get('firstname').errors?.['required']">
                    First Name is required.
                  </mat-error>
                </mat-form-field>
              </div>

              <div fxFlex.xs="100%">
                <mat-form-field>
                  <mat-label>Middle Name</mat-label>
                  <input formControlName="middlename" matInput />
                </mat-form-field>
              </div>

              <div fxFlex.xs="100%">
                <mat-form-field >
                  <mat-label>Last Name</mat-label>
                  <input formControlName="lastname" matInput required />
                  <mat-error *ngIf="registerForm.get('lastname').errors?.['required']">
                    Last Name is required.
                  </mat-error>
                </mat-form-field>
              </div>
            </div>

            <div fxLayout="row">
              <div fxFlex.xs="100%">
                <mat-form-field >
                  <mat-label>Email</mat-label>
                    <input formControlName="email" matInput required />
                    <mat-error *ngIf="registerForm.get('email').errors?.['required']">
                      Valid E-mail is required.
                    </mat-error>
                </mat-form-field>
              </div>
            </div>
            <div fxLayout="row wrap" fxLayoutGap="20px">
              <div fxFlex.xs="100%">
                <mat-form-field>
                  <mat-label>Password</mat-label>
                    <input type="password" matInput formControlName="password" required />
                    <mat-error type="password" *ngIf="registerForm.get('password').errors?.['required']">
                      Password is required.
                    </mat-error>
                </mat-form-field>
              </div>
              <div fxFlex.xs="100%">
                <mat-form-field>
                  <mat-label>Password Confirmation</mat-label>
                    <input matInput type="password" formControlName="password_confirmation" required />
                    <mat-error type="password" *ngIf="registerForm.get('password_confirmation').errors?.['required']">
                      Password must be same.
                    </mat-error>
                </mat-form-field>
              </div>
            </div>
            <div fxLayout="row wrap">
              <div fxFlex.xs="100%">
                  <!-- Button trigger modal -->
                  <mat-checkbox
                    type="checkbox"
                    formControlName="termsAndCondition"
                    [(ngModel)]="checked"
                    required
                    ></mat-checkbox>
                    I agree to
                    <a
                      mat-button
                      (click)="openDialog()"
                      >
                      terms and conditions
                    </a>
                  <mat-error type="checkbox" *ngIf="registerForm.get('termsAndCondition').errors?.['required']">
                    You must agree to the terms and conditions to register for an account.
                  </mat-error>
              </div>
            </div>
            <div fxLayout="row wrap">
              <div fxFlex.xs="100%" >
                <button mat-raised-button color="accent"  [disabled]="!registerForm.valid" (click)="onSubmit()">
                  Register</button>
              </div>

              <div fxFlex.xs="100%">
                <button mat-button [routerLink]="['../login']" >Already Registered</button>
              </div>
              <div #spinnerDiv class="spinner-container" *ngIf="isLoading" >
                <mat-spinner [diameter]="spinnerDiameter" color="primary" ></mat-spinner>
              </div>
            </div>
          </form>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
</div>

